<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-1">
  <div class="d-flex flex-column align-items-center justify-content-center text-center" style="min-height: 100px;">
      <div class="d-inline-flex">
          <p class="m-0"><a routerLink="/home">Home</a></p>
          <p class="m-0 px-2">/</p>
          <p class="m-0"><a routerLink="/checkout">Checkout</a></p>
      </div>
  </div>
</div>
<!-- Page Header End -->

<!-- Checkout Start -->
<div class="container-fluid pt-5">
    <div class="row px-xl-5">
        <div class="col-lg-8">
            <div class="mb-4">
                <h4 class="font-weight-semi-bold mb-4">Billing Address</h4>
                <form #checkoutForm="ngForm">
                    <div class="form-group">
                      <label for="fullName">Họ và tên</label>
                      <input
                        type="text"
                        class="form-control"
                        id="fullName"
                        placeholder="Nhập họ và tên"
                        required
                        [(ngModel)]="billingInfo.fullName"
                        name="fullName"
                        #fullName="ngModel"
                        [ngClass]="{'is-invalid': fullName.invalid && fullName.touched}"
                      />
                      <div *ngIf="fullName.invalid && fullName.touched" class="invalid-feedback">
                        Họ và tên là bắt buộc.
                      </div>
                    </div>
            
                    <div class="form-group">
                      <label for="phone">Số điện thoại</label>
                      <input
                        type="number"
                        class="form-control"
                        id="phone"
                        placeholder="Nhập số điện thoại"
                        required
                        [(ngModel)]="billingInfo.phone"
                        name="phone"
                        #phone="ngModel"
                        [ngClass]="{'is-invalid': phone.invalid && phone.touched}"
                      />
                      <div *ngIf="phone.invalid && phone.touched" class="invalid-feedback">
                        Số điện thoại là bắt buộc.
                      </div>
                    </div>
            
                    <div class="form-group">
                      <label for="address">Địa chỉ</label>
                      <input
                        type="text"
                        class="form-control"
                        id="address"
                        placeholder="Nhập địa chỉ của bạn"
                        required
                        [(ngModel)]="billingInfo.address"
                        name="address"
                        #address="ngModel"
                        [ngClass]="{'is-invalid': address.invalid && address.touched}"
                      />
                      <div *ngIf="address.invalid && address.touched" class="invalid-feedback">
                        Địa chỉ là bắt buộc.
                      </div>
                    </div>
            
                    <div class="form-group">
                      <label for="email">Email</label>
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        placeholder="Nhập địa chỉ email"
                        required
                        [(ngModel)]="billingInfo.email"
                        name="email"
                        #email="ngModel"
                        [ngClass]="{'is-invalid': email.invalid && email.touched}"
                      />
                      <div *ngIf="email.invalid && email.touched" class="invalid-feedback">
                        Vui lòng nhập địa chỉ email hợp lệ.
                      </div>
                    </div>
                  </form>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card border-secondary mb-5">
                <div class="card-header bg-secondary border-0">
                    <h4 class="font-weight-semi-bold m-0">Order Total</h4>
                </div>
                <div class="card-body">
                    <h5 class="font-weight-medium mb-3">Products</h5>
                    <ul class="list-group mb-3">
                        <li
                          *ngFor="let item of cartItems"
                          class="list-group-item d-flex justify-content-between lh-condensed"
                        >
                          <div>
                            <h6 class="my-0">{{ item.name }}</h6>
                            <small class="text-muted">Số lượng: {{ item.quantity }}</small>
                          </div>
                          <span class="text-muted">{{ item.price | number: '1.0-0' }}</span>
                        </li>
                      </ul>
                    <hr class="mt-0">
                    <div class="d-flex justify-content-between mb-3 pt-1">
                        <h6 class="font-weight-medium">Subtotal</h6>
                        <h6 class="font-weight-medium">0</h6>
                    </div>
                    <div class="d-flex justify-content-between">
                        <h6 class="font-weight-medium">Shipping</h6>
                        <h6 class="font-weight-medium">0</h6>
                    </div>
                    <div class="d-flex justify-content-between">
                        <h6 class="font-weight-medium">Total</h6>
                        <h6 class="font-weight-medium">{{ totalPrice | number: '1.0-0' }} VNĐ</h6>
                    </div>
                </div>
                <div class="card-footer border-secondary bg-transparent">
                    <div class="d-flex justify-content-between mt-2">
                        <button [disabled]="checkoutForm.invalid"
                    (click)="placeOrder()" class="btn btn-lg btn-block btn-primary font-weight-bold my-3 py-3">Place Order</button>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</div>
<!-- Checkout End -->