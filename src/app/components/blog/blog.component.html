<div class="container">
    <div class="layout">
        <!-- Main content area (2/3 width) -->
        <div class="main-content">
            <!-- Blog post -->
            <article class="blog-post">
                <h1>{{blog.title}}</h1>
                <p class="author">Tác giả: {{ blog.author }}</p>
                <p class="view-count">Lượt xem: {{ blog.viewCount }}</p>
                <p class="post-date">Ngày đăng: {{blog.createdAt | date:'dd-MM-yyyy'}}</p>
                <app-table-of-contents [sections]="blog.sections"></app-table-of-contents>
                <div class="post-content">
                    <section *ngFor="let section of blog.sections; let i = index" [id]="'section-' + i">
                        <h2>{{ section.title }}</h2>
                        <div [innerHTML]="section.content"></div>
                        <div *ngIf="section.videoUrl" class="video-container">
                          <iframe [src]="getSafeUrl(section.videoUrl)" frameborder="0" allowfullscreen></iframe>
                        </div>
                        <div *ngIf="section.imageUrl" class="image-container">
                          <img [src]="section.imageUrl" alt="Section image">
                        </div>
                    </section>
                </div>
            </article>

            <!-- Comments section -->
            <div class="comments-section">
                <h2>Bình luận</h2>
                <app-comment-blog></app-comment-blog>
            </div>
        </div>

        <!-- Sidebar (1/3 width) -->
        <div class="sidebar">
            <!-- Facebook fanpage -->
            <div class="fanpage">
                <h2>Follow Facebook</h2>
                <!-- <div class="fb-page" data-href="https://www.facebook.com/profile.php?id=61566602871136"
                    data-tabs="timeline" data-width="" data-height="" data-small-header="false"
                    data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
                    <blockquote cite="https://www.facebook.com/profile.php?id=61566602871136"
                        class="fb-xfbml-parse-ignore">
                        <a href="https://www.facebook.com/profile.php?id=61566602871136">Phụ Kiện Giá Rẻ</a>
                    </blockquote> -->
                <div class="fb-page">
                    <iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fprofile.php%3Fid%3D61566602871136&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId" width="340" height="500" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
                </div>
            </div>

            <!-- Related posts -->
            <div class="related-posts">
                <h2>Bài viết liên quan</h2>
                <app-related-post></app-related-post>
            </div>
        </div>
    </div>
</div>