<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-1">
  <div class="d-flex flex-column align-items-center justify-content-center text-center" style="min-height: 100px;">
      <div class="d-inline-flex">
          <p class="m-0"><a routerLink="/home">Home</a></p>
          <p class="m-0 px-2">/</p>
          <p class="m-0"><a routerLink="/order-tracking">Order Tracking</a></p>
      </div>
  </div>
</div>
<!-- Page Header End -->
<div class="container mt-5">
  <app-message></app-message>
  <h2>Tra cứu mã đơn hàng</h2>
  <div class="mb-3">
    <label for="orderId" class="form-label">Nhập mã đơn hàng:</label>
    <input type="text" class="form-control" id="orderId" [(ngModel)]="orderId" placeholder="Ví dụ: ORD123456" />
  </div>
  <button class="btn btn-primary" (click)="trackOrder()">Tra cứu</button>

  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>

  <div class="container mt-2">
    <h2>Chi tiết đơn hàng</h2>

    <div *ngFor="let order of orderDetails">
      <!-- Hiển thị thông tin đơn hàng -->
      <p><strong>Order ID:</strong> {{ order.orderId }}</p>
      <p><strong>Full Name:</strong> {{ order.fullName }}</p>
      <p><strong>Phone:</strong> {{ order.phone }}</p>
      <p><strong>Address:</strong> {{ order.address }}</p>
      <p><strong>Email:</strong> {{ order.email }}</p>
      <p><strong>Status:</strong> {{ order.status }}</p>
      <p><strong>SubTotal:</strong> {{ order.subtotal | currency: 'VND' }}</p>
      <p><strong>Discount:</strong> {{ order.discount | currency: 'VND' }}</p>
      <p><strong>Total Price:</strong> {{ order.totalPrice | currency: 'VND' }}</p>
      <p><strong>Created At:</strong> {{ order.createdAt | date: 'dd/MM/yyyy' }}</p>

      <!-- Hiển thị danh sách items -->
      <h3>Items</h3>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Item Name</th>
            <th>Quantity</th>
            <th>Price (VND)</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of order.items">
            <td>{{ item.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.price | currency: 'VND' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
