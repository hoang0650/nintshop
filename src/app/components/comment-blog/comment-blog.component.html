<div class="comments-section">
    <h2 class="comments-title">B√¨nh lu·∫≠n ({{ comments.length }})</h2>

    <div class="comments-list">
        <div *ngFor="let comment of comments" class="comment">
            <img [src]="comment.avatarUrl" alt="{{ comment.author }}" class="avatar">
            <div class="comment-details">
                <div class="comment-header">
                    <span class="comment-author">{{ comment.author }}</span>
                    <span class="date">Ng√†y t·∫°o: {{ comment.date | date:'short' }}</span>
                </div>
                <p class="content">{{ comment.content }}</p>
                <div class="actions">
                    <button class="reply-button" (click)="replyToCommentId = comment.id">Ph·∫£n h·ªìi</button>
                    <span class="like-button" (click)="comment.likes = (comment.likes || 0) + 1">üëç {{ comment.likes ||
                        0 }}</span>
                    <span *ngIf="comment.replies?.length" class="reply-count">L∆∞·ª£t ph·∫£n h·ªìi: {{ comment.replies?.length
                        }}</span>
                </div>

                <!-- Hi·ªÉn th·ªã ph·∫£n h·ªìi -->
                <div class="replies" *ngIf="comment.replies">
                    <div *ngFor="let reply of comment.replies" class="reply">
                        <img [src]="reply.avatarUrl" alt="{{ reply.author }}" class="avatar">
                        <div class="reply-content">
                            <div class="reply-header">
                                <span class="reply-author">{{ reply.author }}</span>
                                <span class="reply-date">Ng√†y t·∫°o: {{ reply.date | date:'short' }}</span>
                            </div>
                            <p class="reply-text">{{ reply.content }}</p>
                        </div>
                    </div>
                </div>

                <!-- √î nh·∫≠p ph·∫£n h·ªìi -->
                <div *ngIf="replyToCommentId === comment.id" class="reply-input">
                    <input [(ngModel)]="replyContent" placeholder="Nh·∫≠p ph·∫£n h·ªìi..." class="reply-textarea" />
                    <button class="send-button" (click)="addReply(comment.id)">G·ª≠i</button>
                </div>

            </div>
        </div>
    </div>

    <!-- √î nh·∫≠p b√¨nh lu·∫≠n m·ªõi -->
    <div class="new-comment">
        <input [(ngModel)]="newComment.author" placeholder="T√™n b·∫°n" class="author-input" />
        <textarea [(ngModel)]="newComment.content" placeholder="Nh·∫≠p b√¨nh lu·∫≠n..." class="comment-input"></textarea>
        <button class="send-comment-button" (click)="addComment()">G·ª≠i b√¨nh lu·∫≠n</button>
    </div>
</div>