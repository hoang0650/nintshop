<!-- Products Start -->
<div class="container-fluid pt-5">
    <app-message></app-message>
    <div class="text-center mb-4">
        <h2 class="section-title px-5"><span class="px-2">Products</span></h2>
    </div>
    <div class="row px-xl-5 pb-3">
        <!-- Lặp qua danh sách sản phẩm -->
        <div class="col-lg-3 col-md-6 col-sm-12 pb-1" *ngFor="let product of products">
            <div class="card product-item border-0 mb-4">
                <div class="card-header product-img position-relative overflow-hidden bg-transparent border p-0">
                    <!-- Sử dụng (click) sự kiện và [routerLink] với _id của sản phẩm -->
                    <img class="img-fluid w-100 img-cover" src="{{product.image[0]}}" [alt]="product.name"
                        (click)="onSelect(product._id)" [routerLink]="['/detail', product._id]">
                </div>
                <div class="card-body border-left border-right text-center p-0 pt-4 pb-3">
                    <h6 class="text-truncate mb-3 text-primary product-name">{{ product.name }}</h6>
                    <div class="d-flex justify-content-center">
                        <h6>{{ product.price | number: '1.0-0' }} VNĐ</h6>
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-between bg-light border">
                    <!-- Sử dụng _id cho chi tiết sản phẩm -->
                    <a class="btn btn-sm text-dark p-0" (click)="onSelect(product._id)"
                        [routerLink]="['/detail', product._id]">
                        <i class="fas fa-eye text-primary mr-1"></i>View Detail
                    </a>
                    <a class="btn btn-sm text-dark p-0" (click)="addToCart(product)">
                        <i class="fas fa-shopping-cart text-primary mr-1"></i>Add To Cart
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="col-12 pb-1">
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center mb-3">
                <li class="page-item" [class.disabled]="currentPage === 1">
                    <a class="page-link" (click)="changePage(currentPage - 1)" aria-label="Previous" [attr.aria-disabled]="currentPage === 1">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li class="page-item" *ngFor="let page of totalPages()" [class.active]="currentPage === page">
                    <a class="page-link" (click)="changePage(page)">{{ page }}</a>
                </li>
                <li class="page-item" [class.disabled]="currentPage === totalPages().length">
                    <a class="page-link" (click)="changePage(currentPage + 1)" aria-label="Next" [attr.aria-disabled]="currentPage === totalPages().length">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div> -->

    <!-- Phân trang -->
    <nz-pagination [(nzPageIndex)]="currentPage" [nzTotal]="totalBlogs" [nzPageSize]="pageSize"
        (nzPageIndexChange)="onPageChange($event)" class="pagination"></nz-pagination>
</div>
<!-- Products End -->